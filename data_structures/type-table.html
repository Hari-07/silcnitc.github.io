<!Doctype html>
<html lang="en">
    <head>
        <title>Type Table</title>
        <meta charset="UTF-8">
        <!--<link rel="stylesheet" href="css/bootstrap.min.css">-->
        <link rel="stylesheet" href="../css/style_new.css">
        <link rel="stylesheet" href="../js/embed-2cd369fa1c0830bd3aa06c21d4f14a13e060d2d31bbaae740f4af4.css"><div id="gist28627206" class="gist">
        <link rel="stylesheet" href="../js/embed-cbe5b40fa72b0964f90d4919c2da8f8f94d7c9f6c2aa49c07f6fa3.css"><div id="gist28627206" class="gist">
    </head>
    <div class="container">
        <header id="navtop">
            <a href="index.html" class="logo fleft"><img src="../img/logo.png" alt=""></a>
            <nav class="fright">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">About</a></li>
        			    <li><a href="#">Help</a></li>
        			    <li><a href="#">Code</a></li>
        			    <li><a href="../roadmap.html">Roadmap</a></li>
        			    <li><a href="../documentation.html" class="navactive">Documentation</a></li>
                </ul>
            </nav>
        </header>
        <div class="Services-page main grid-wrap">
            <header class="grid col-full">
                <hr/>
                <p class="fleft">TypeTable</p>
                <br>
                <br>
                <a class="button" href="">Download as PDF</a>
            </header>
            <aside class="grid col-one-quarter mq2-col-full">
              <menu>
                <ul>
                  <li><a class="sec" href="#nav-introduction">Introduction</a></li>
                   <li><a class="sec" href="#nav-structure">Structure</a></li>
                  <li><a class="sec" href="#nav-associated-methods">Associated methods</a></li>
                  <li><a class="sec" href="#nav-illustration">Illustration</a></li>
              </ul>
              </menu>
            </aside>
            <section class="grid col-three-quarters mq2-col-full">
                <div class="grid-wrap">
                    <article class="grid col-full" id="nav-introduction">
                        <h2>Introduction</h2>
                        <p>
                            The Type Table stores all the necessary information regarding the various user defined types in the source program. The compiler creates an entry in the Type Table for each user defined type. In addition to this, there are default entries created for primitive types (<i>int</i>, <i>str</i>) and special entries <i>null</i>, <i>boolean</i> and <i>void</i> for the internal purposes of the interpreter. The default and special entries are made beforehand whereas entries for user defined types are made as the Type Declaration Section of the source code is parsed.
                        </p>
                    </article>
                    <article class="grid col-full" id="nav-structure">
                        <h2>Structure</h2>
                        <p>
                            The structure of Type Table is as follows:
                        </p>
                        <script src="../js/9d481cdd2e29c3eadc3d.js"></script>
                        <p>
                            The variable 'fields' is a pointer to the head of 'fieldlist'. Here 'fieldlist' stores the information regarding the different fields in the case of a user-defined type.
                        </p>
                        <script src="../js/79a0b8b91299662b744d.js"></script>
                    </article>
                    <article class="grid col-full" id="nav-associated-methods">
                        <h2>Associated Methods</h2>
                        <ul>
                            <li>void TypeTableCreate() : Function to initialise the type table entries with primitive types <i>(int,str)</i> and internal data types <i>(boolean,null,void)</i>.</li>
                            <li>struct Typetable* TLookup(char *name) : Search through the type table and  return pointer to type table entry of type 'name'. </li>
                            <li>struct Typetable* TInstall(char *name, struct Fieldlist *fields) : Creates a type table entry for the type of 'name' with given 'fields' and returns the pointer to the type table entry.</li>
                            <li>void FInstall(char *name, struct Typetable *type) : Adds a fieldlist entry with given 'name' and 'type'.</li>
                            <li>struct Fieldlist* FLookup(char *name, struct Fieldlist *list) : Searches for a field of given 'name' in the given 'fieldlist' (of some user-defined type) and returns a pointer to the matching entry.</li>
                        </ul>
                    </article>
                    <article class="grid col-full" id="nav-illustration">
                        <h2>Illustration</h2>
                        <p>
                            Let us consider the following sample code:
                        </p>
                        <script src="../js/67898e19a3cb8f2dc010.js"></script>
                        <ol>
                            <li>The type table is first created and initialised to contain the default entries for each of the primitive and internal datatypes. This is done through a call to the function TypeTableCreate() from main function before yyparse() is called to start parsing the code. After the execution of TypeTableCreate() , the type table will be as follows:
                                <br/><img src="../img/data_structure_1.png" style="width:40%;margin-top:1em;margin-bottom:1em"></img><br>
                            </li>
                            <li>As soon as the compiler encounters the declaration of a user defined type, it is installed into the type table. Subsequently the fields are attached to this type table entry. For instance, in the case of the user-defined type <i>linkedlist</i>, as soon as  the name <i>linkedlist</i> is encountered, a type table entry with 'name' set to <i>linkedlist</i> and 'fields' set to <i>NULL</i> is created. Later, on finishing the complete parse of the type definition, the fieldlist is created and it is attached to the type table entry. <br><b>NOTE</b> : A type table entry is created as soon as the type name is seen. This is because a field of the type may be of same type (For example, just like <i>next</i> is of type <i>linkedlist</i> in the type definition of <i>linkedlist</i>). When the 'fieldlist' is created, the type of the field is set by looking up the type table.
                                <br/><img src="../img/data_structure_2.png" style="width:70%;margin-top:1em;margin-bottom:1em"></img><br>
                            </li>
                            <li>Similar actions are carried out for user-defined type <i>marklist</i> also.
                                    <br/><img src="../img/data_structure_3.png" style="width:90%;margin-top:1em;margin-bottom:1em"></img><br>
                            </li>
                            <li>Once the type declaration section is completely parsed, the type table is fully created and will not be further modified or updated.</li>
                        </ol>
                    </article>
                </div>
            </section>
        </div>
    </div>
</html>
