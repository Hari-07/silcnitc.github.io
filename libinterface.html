<!Doctype html>
<html lang="en">
    <head>
        <title>High Level Library Interface For eXpOS</title>
        <meta charset="UTF-8">
        <!--<link rel="stylesheet" href="css/bootstrap.min.css">-->
        <link rel="stylesheet" href="css/style_new.css">
        <script src="js/jquery-1.12.1.min.js" charset="utf-8"></script>
        <script src="js/bootstrap.min.js" charset="utf-8"></script>
        <script src="js/sticky_sidebar.js" charset="utf-8"></script>

    </head>
    <div class="container">
        <header id="navtop">
            <a href="index.html" class="logo fleft"><img src="img/logo.png" alt=""></a>
            <nav class="fright">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">About</a></li>
        			    <li><a href="#">Help</a></li>
        			    <li><a href="#">Code</a></li>
        			    <li><a href="roadmap.html">Roadmap</a></li>
        			    <li><a href="documentation.html" class="navactive">Documentation</a></li>
                </ul>
            </nav>
        </header>
        <div class="Services-page main grid-wrap">
            <header class="grid col-full">
                <hr/>
                <!-- <p class="fleft">High Level Library Interface For eXpOS</p> -->
                <!-- <br> -->
                <br>
                <a class="button" href="pdfs/expl.pdf">Download as PDF</a>
            </header>

            <aside class="grid col-one-quarter mq2-col-full sticky_sidebar">
<!--                 <menu>
                    <ul>
                        <li><a class="sec" href="#nav-intro">Introduction</a></li>
                        <li><a class="sec" href="#nav-data-types">Supported data types</a></li>
                        <li><a class="sec" href="#nav-general-program-structure">General Program Structure</a</li>
                        <li><a class="sec" href="#nav-stmts-and-exprs">Statements and Expressions</a><li>
                        <li><a class="sec" href="#nav-dynamic-memory-allocation">Dynamic Memory Allocation</a></li>
                        <li><a class="sec" href="#nav-sample-programs">Sample Programs</a></li>
                        <li><a class="sec" href="#nav-appendix">Appendix</a></li>
                    </ul>
                </menu>
 -->            </aside>
            <section class="grid col-three-quarters mq2-col-full">
                <div class="grid-wrap">
                    <article class="grid col-full" id="nav-intro">
                        <h2>High Level Library Interface For eXpOS</h2>
                        <p>
                            The High Level Library Interface is a unified interface to access system call routines and dynamic memory management functions from application programs. The ExpL language allows applications to access the OS routines only through the library interface. The syntax for the call to the library function in ExpL is :
                        </p>
                        <pre >
                            t = exposcall(fun_code, arg1, arg2, arg3);
                        </pre>
                        <p>
                            Depending on the fun_code the control is transferred to the system call routines (if fun_code > 0) and the dynamic memory management functions (if fun_code < 0 ) (see below) .
                        </p>
                        <p>
                        <table class="doctable">
                            <tr>
                                <th>Library Function / System Call</th>
                                <th>Function Code</th>
                                <th>Argument 1</th>
                                <th>Argument 2</th>
                                <th>Argument 3</th>
                            </tr>
                            <tr>
                                <td>Create</td>
                                <td>"Create"</td>  
                                <td>File Name (int)</td>
                                <td>Permission (str)</td>
                                <td>-</td>
                              </tr>

                              <tr>
                                <td>Open</td>
                                <td>"Open"</td>      
                                <td>File Name (str)</td>
                                <td>-</td>
                                  <td>-</td>
                              </tr>


                              <tr>
                               <td>Close</td>
                               <td>"Close"</td>
                               <td>File Descriptor (int)</td>
                               <td>-</td>
                               <td>-</td>
                              </tr>
                                                               
                            <tr>
                                <td>Delete</td>
                                <td>"Delete"</td>  
                                <td>File Name (str)</td>
                                <td>-</td>
                                <td>-</td>
                              </tr>
                              <tr>
                                  <td>Write</td>
                                  <td>"Write"</td>
                                  <td>File Descriptor (int)</td>
                                  <td>Buffer<font color="red">*</font> (int/str)</td>
                                  <td>-</td>
                              </tr>

                              <tr>
                                  <td>Seek</td>
                                  <td>"Seek"</td>
                                  <td>File Descriptor (int)</td>
                                  <td>Offset (int)</td>
                                  <td>-</td>
                              </tr>

                              <tr>
                                  <td>Read</td>
                                  <td>"Read"</td>
                                  <td>File Descriptor (int)</td>
                                  <td>Buffer<font color="red">*</font> (int/str)</td>
                                  <td>-</td>
                              </tr>
                            <!--- -->

                              <tr>
                                <td>Fork</td>
                                <td>"Fork"</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>  
                              </tr>     
                              <tr>
                                <td>Exec</td>
                                <td>"Exec"</td>
                                <td>File Name (str)</td>  
                                <td>-</td>
                                <td>-</td>  
                              </tr>

                              <tr>
                                <td>Exit</td>
                                <td>"Exit"</td>     
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>  
                              </tr>

                              <tr>
                                  <td>Getpid</td>
                                  <td>"Getpid"</td>
                                <td>-</td>
                                  <td>-</td>
                                  <td>-</td>
                              </tr>

                              <tr>
                                  <td>Getppid</td>
                                  <td>"Getppid"</td>
                                      <td>-</td>
                                        <td>-</td>
                                  <td>-</td>
                              </tr>

                            <tr>
                                <td>Wait</td>
                                <td>"Wait"</td> 
                                <td>Process Identifier (int)</td>
                                <td>-</td>
                                <td>-</td>
                              </tr>

                              <tr>
                                <td>Signal</td>
                                <td>"Signal"</td> 
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>  
                              </tr>

                              
                              <tr>
                                <td>FLock</td>
                                <td>"FLock"</td>     
                                <td>File Descriptor (int)</td>
                                <td>-</td>
                                <td>-</td>  
                              </tr>

                              <tr>
                                  <td>FUnLock</td>
                                  <td>"FUnLock"</td>
                                  <td>File Descriptor (int)</td>  
                                  <td>-</td>
                                  <td>-</td>
                              </tr>

                              <tr>
                                  <td>Semget</td>
                                  <td>"Semget"</td>
                                  <td>-</td>
                                  <td>-</td>
                                  <td>-</td>
                              </tr>

                              <tr>
                                  <td>Semrelease</td>
                                  <td>"Semrelease"</td>
                                  <td>Semaphore Descriptor (int)</td>
                                  <td>-</td>
                                  <td>-</td>
                              </tr>

                              <tr>
                                  <td>SemLock</td>
                                  <td>"SemLock" </td>
                                  <td>Semaphore Descriptor (int)</td>
                                  <td>-</td>
                                  <td>-</td>
                              </tr>
                              <tr>
                                  <td>SemUnLock</td>
                                  <td>"SemUnLock"</td>
                                  <td>Semaphore Descriptor (int)</td>
                                  <td>-</td>
                                  <td>-</td>
                              </tr>
                              
                              <tr>
                                <td>Shutdown</td>
                                <td>"Shutdown"</td>     
                                <td>-</td>
                                <td>-</td>
                                  <td>-</td>
                              </tr>
                                 <tr>
                                <td style="color:red">Newusr</td>
                                <td>"Newusr"</td>     
                                <td>User name (str)</td>
                                <td>Password (str)</td>
                                  <td>-</td>
                              </tr>
                                    <tr>
                                <td style="color:red">Remusr</td>
                                <td>"Remusr"</td>     
                                <td>User name (str)</td>
                                <td>-</td>
                                  <td>-</td>
                              </tr>
                                    <tr>
                                <td style="color:red">Setpwd</td>
                                <td>"Setpwd"</td>     
                                <td>User name (str)</td>
                                <td>New Password (str)</td>
                                  <td>-</td>
                              </tr>
                                    <tr>
                                <td style="color:red">Getuname</td>
                                <td>"Getuname"</td>     
                                <td>User ID (int)</td>
                                <td>-</td>
                                  <td>-</td>
                              </tr>
                                 <tr>
                                <td style="color:red">Getuid</td>
                                <td>"Getuid"</td>     
                                <td>User name (str)</td>
                                <td>-</td>
                                  <td>-</td>
                              </tr>
                                    <tr>
                                <td style="color:red">Login</td>
                                <td>"Login"</td>     
                                <td>User name (str)</td>
                                <td>Password (str)</td>
                                  <td>-</td>
                              </tr>
                                                        
                                <tr>
                                  <td>Test</td>
                                  <td>"Test"</td>
                                  <td>Unspecified</td>
                                  <td>Unspecified</td>
                                  <td>Unspecified</td>
                              </tr>
                              <tr class = "active">
                                  <td>Initialize</td>
                                  <td>"Initialize"</td>
                                  <td>-</td>
                                    <td>-</td>
                                    <td>-</td>
                              </tr>
                              <tr class = "active">
                                  <td>Alloc</td>
                                  <td>"Alloc"</td>
                                  <td>Size (int)</td>
                                    <td>-</td>
                                    <td>-</td>
                              </tr>
                              <tr class = "active">
                                  <td>Free</td>
                                  <td>"Free"</td>
                                  <td>Pointer (int)</td>
                                    <td>-</td>
                                    <td>-</td>
                              </tr>
                        </table>
                        <sup>
                            * foot note regarding buffer
                        </sup>
                    </p>
                    <p>
                        The description of the system calls can be seen here. The dynamic memory management routines are described below.
                    </p>
                    </article>
                    <article class="grid col-full" id="nav-data-types">
                        <h2>Dynamic Memory Routines</h2>
                        <h4>Initialize</h4>
                        <p>
                            <p>Arguments: None </p>
                            <p>Return Value:</p>
                            <table class="doctable">
                                <tr>
                                    <td>0</td>
                                    <td>Success</td>
                                </tr> 
                                <tr>
                                    <td>-1</td>
                                    <td>Failure</td>
                                </tr> 
                            </table>
                            <br>
                            <p>
                                Description: Intitalizes the heap data structures and sets up the heap area of the process.It is the applications responsibility to invoke Initialize() before the first use of Alloc(). The behaviour of Alloc() and Free() when invoked without an Intialize() operation is undefined. Any memory allocated before an Intialize() operation will be reclaimed for future allocation. 
                            </p>
                        </p>
                        <h4>Alloc</h4>
                        <p>
                            <p>Arguments: Size (int) </p>
                            <p>Return Value:</p>
                            <table class="doctable">
                                <tr>
                                    <td>integer</td>
                                    <td>Address in the heap allocated</td>
                                </tr> 
                                <tr>
                                    <td>-1</td>
                                    <td>No allocation</td>
                                </tr>  
                            </table>
                            <br>
                            <p>
                                Description: The Alloc operation takes as input an integer, allocates contiguous words equal to the input specified and returns a pointer (i.e., an integer memory address) to the beginning of the allocated memory in the heap. 
                            </p>
                        </p>
                        <h4>Free</h4>
                        <p>
                            <p>Arguments: Pointer (int)</p>
                            <p>Return Value:</p>
                            <table class="doctable">
                                <tr>
                                    <td>0</td>
                                    <td>Success</td>
                                </tr> 
                                <tr>
                                    <td>-1</td>
                                    <td>Failure</td>
                                </tr>  
                            </table>
                            <br>
                            <p>
                                Description: The Free operation takes a pointer (i.e., an integer memory address) of a previously allocated memory block and returns it to the heap memory pool.  If the pointer does not correspond to a valid reference to the beginning of a previously allocated memory block, the behaviour of Free is not defined.  
                            </p>
                        </p>
                    </article>
                </div>
            </section>
        </div>
    </div>
</html>
